<div
  [ngClass]="{ 'filter-overlay-active': mobileFilter === true }"
  class="filter-overlay"
></div>
<div
  (window:resize)="widthFilter()"
  [class.disable-scroll]="isMenuActive"
  class="shop-pagee"
>
  <div
    class="navoverlay"
    (click)="activateMenu()"
    [class.navoverlay-active]="isMenuActive"
    [class.nav-active]="isMenuActive"
  ></div>

  <div class="navigation">
    <div class="menu"></div>
  </div>
  <div class="shop-section">
    <div class="shop-header">
      <div *ngIf="display <= 1350" class="filter-mobile">
        <div class="filter-tit">
          <h2 class="f">{{ title }}</h2>
        </div>
        <div class="filter-img">
          <img
            [ngClass]="{ 'filter-unfilled': mobileFilter === true }"
            class="red-star"
            (click)="filterMobile()"
            src="assets/base/images/market/filter-red.svg"
            alt="Red empty filter icon"
          />
          <img
            [ngClass]="{ 'filter-unfilled': mobileFilter === false }"
            class="red-star"
            (click)="filterMobile()"
            src="assets/base/images/market/filter-full-red.svg"
            alt="Red full filter icon"
          />
        </div>
        <div
          [ngClass]="{ 'filter-content-active': mobileFilter === true }"
          class="filter-content"
        >
          <div class="item-title"><h3>Filter</h3></div>
          <div
            [ngClass]="{ 'item-active': carsActive === true }"
            class="item"
            (click)="filterCars()"
          >
            <p>Cars</p>
            <div class="checkbox">
              <img
                class="red-star"
                src="assets/base/images/market/check-red.svg"
                alt="Red check icon"
              />
            </div>
          </div>
          <div
            [ngClass]="{ 'item-active': racersActive === true }"
            class="item"
            (click)="filterRacers()"
          >
            <p>Racers</p>
            <div class="checkbox">
              <img
                class="red-star"
                src="assets/base/images/market/check-red.svg"
                alt="Red check icon"
              />
            </div>
          </div>

          <div
            [ngClass]="{ 'item-active': tracksActive === true }"
            class="item"
            (click)="filterTracks()"
          >
            <p>Tracks</p>
            <div class="checkbox">
              <img
                class="red-star"
                src="assets/base/images/market/check-red.svg"
                alt="Red check icon"
              />
            </div>
          </div>

          <div
            [ngClass]="{ 'item-active': bundlesActive === true }"
            class="item"
            (click)="filterBundles()"
          >
            <p>Bundles</p>
            <div class="checkbox">
              <img
                class="red-star"
                src="assets/base/images/market/check-red.svg"
                alt="Red check icon"
              />
            </div>
          </div>
          <div
            [ngClass]="{ 'item-active': allActive === true }"
            class="item"
            (click)="filterAll()"
          >
            <p>All products</p>
            <div class="checkbox">
              <img
                class="red-star"
                src="assets/base/images/market/check-red.svg"
                alt="Red check icon"
              />
            </div>
          </div>
          <button class="my-cta-btn-back hoverable" (click)="filterMobile()">
            Apply
          </button>
        </div>
      </div>
      <div *ngIf="display > 1350" class="filter-featured">
        <div class="filter-title">
          <p>Filters</p>
        </div>
        <div class="filter-boxes">
          <div>
            <div
              (click)="filterCars()"
              [ngClass]="{
                'filter-active': carsActive === true
              }"
              class="filter-box"
            ></div>
            <p>Cars</p>
          </div>
          <div>
            <div
              (click)="filterRacers()"
              [ngClass]="{
                'filter-active': racersActive === true
              }"
              class="filter-box"
            ></div>
            <p>Racers</p>
          </div>

          <div>
            <div
              (click)="filterTracks()"
              [ngClass]="{
                'filter-active': tracksActive === true
              }"
              class="filter-box"
            ></div>
            <p>Tracks</p>
          </div>

          <div>
            <div
              (click)="filterBundles()"
              [ngClass]="{
                'filter-active': bundlesActive === true
              }"
              class="filter-box"
            ></div>
            <p>Bundles</p>
          </div>
          <div>
            <div
              (click)="filterAll()"
              [ngClass]="{
                'filter-active': allActive === true
              }"
              class="filter-box"
            ></div>
            <p>All</p>
          </div>
        </div>
      </div>
    </div>
    <div class="shop-section-center" #myScroll>
      <div
        [ngClass]="{
          'engage-next-anim': animation === 0,
          'disengage-next-anim': animation === 1,
          'engage-prev-anim': animation === 2,
          'disengage-prev-anim': animation === 3
        }"
        class="boxes"
      >
        <button
          [ngClass]="{
            'sold-out':
              item['name'] === 'BTC' ||
              item['name'] === 'ALT' ||
              item['name'] === 'IOI'
          }"
          [routerLink]="
            item['name'] === 'BTC' ||
            item['name'] === 'ALT' ||
            item['name'] === 'IOI'
              ? null
              : ['/nft-detail']
          "
          [queryParams]="{
            type: item['type'],
            id: item['id'],
            page: currentPage,
            startPage: isPaged,
            filter: filter
          }"
          [disabled]="
            item['name'] === 'BTC' ||
            item['name'] === 'ALT' ||
            item['name'] === 'IOI'
          "
          *ngFor="let item of newProducts | slice: sliceStart:sliceMiddle"
          class="box my-box-shadow"
        >
          <div class="boximage">
            <img
              *ngIf="item['type'] === 'racer'"
              class="img racer"
              [src]="'/assets/base/images/nft-racers/' + item['image'] + '.png'"
              [alt]="item['alt']"
            />
            <img
              *ngIf="item['type'] === 'racer'"
              class="img gif"
              [src]="'/assets/base/images/nft-racers/' + item['gif'] + '.gif'"
              [alt]="item['alt']"
            />
            <img
              *ngIf="item['type'] === 'car' && item['gif']"
              class="img"
              [src]="'/assets/base/images/nft-cars/' + item['image'] + '.png'"
              [alt]="item['alt']"
            />
            <img
              *ngIf="item['type'] === 'car' && item['gif']"
              class="img gif"
              [src]="'/assets/base/images/nft-cars/' + item['gif'] + '.gif'"
              [alt]="item['alt']"
            />
            <img
              *ngIf="item['type'] === 'car' && !item['gif']"
              class="img still"
              [src]="'/assets/base/images/nft-cars/' + item['image'] + '.png'"
              [alt]="item['alt']"
            />

            <img
              *ngIf="item['type'] === 'track'"
              class="img still"
              [src]="
                '/assets/base/images/home-page/' + item['image'] + '-small.png'
              "
              [alt]="item['alt']"
            />

            <img
              *ngIf="item['type'] === 'bundle'"
              class="img special still"
              [src]="'/assets/base/images/bundles/' + item['image'] + '.png'"
              [alt]="item['alt']"
            />
          </div>
          <div class="txt">
            <p *ngIf="item['type'] === 'team'" class="name">
              Team
              <span
                *ngIf="item['name'] === 'BTC'"
                [ngStyle]="{ color: 'red' }"
                class=""
                >{{ item["name"] }}</span
              >
              <span
                *ngIf="item['name'] === 'IOI'"
                [ngStyle]="{ color: '#30cece' }"
                class=""
                >{{ item["name"] }}</span
              >
              <span
                *ngIf="item['name'] === 'ALT'"
                [ngStyle]="{ color: 'green' }"
                class=""
                >{{ item["name"] }}</span
              >
              <span
                *ngIf="item['name'] === 'You'"
                [ngStyle]="{ color: 'black' }"
                class=""
              >
                {{ item["name"] }}
              </span>
            </p>

            <p
              *ngIf="item['type'] != 'racer' && item['type'] != 'team'"
              class="name"
            >
              {{ item["name"] }}
            </p>

            <p *ngIf="item['type'] === 'racer'" class="name">
              {{ item["name"] }}
            </p>
            <p
              *ngIf="item['type'] != 'bundle'"
              [ngClass]="{ gold: item['rare'] === true }"
              class="collection"
            >
              {{ item["collection"] }}
            </p>
            <p *ngIf="item['type'] === 'bundle'" class="collection">
              {{ item["link"] }}
            </p>
            <p class="prize">{{ item["price"] }} IOI</p>
          </div>
        </button>
      </div>
    </div>
    <ng-container *ngIf="newProducts.length > inRow">
      <div class="pages">
        <div class="page-left">
          <button
            (click)="prevPageCars(); scrollTop(myScroll)"
            [disabled]="timeoutPage || sliceStart <= 0"
            class="pagebtn-l"
          >
            <img
              class="red-box-detail"
              [ngClass]="{
                'page-opacity': sliceStart === 0,
                'arrow-animation': animateArrow === true
              }"
              src="/assets/base/images/home-page/arrowleftred.png"
              alt=""
            />
          </button>
        </div>
        <div class="page-middle">
          <p>
            Page
            <span class="leftspan">{{ currentPage }} /</span>
            <span class="rightspan">{{ lastPage }}</span>
          </p>
        </div>
        <div class="page-right">
          <button
            (click)="nextPageCars(); scrollTop(myScroll)"
            [disabled]="
              timeoutPage || currentPage >= newProducts.length / inRow
            "
            class="pagebtn-r"
          >
            <img
              class="red-box-detail"
              [ngClass]="{
                'page-opacity': sliceMiddle >= this.newProducts.length,
                'arrow-animation': animateArrowRight === true
              }"
              src="/assets/base/images/home-page/arrowrightred.png"
              alt=""
            />
          </button>
        </div>
      </div>
    </ng-container>
  </div>
</div>
