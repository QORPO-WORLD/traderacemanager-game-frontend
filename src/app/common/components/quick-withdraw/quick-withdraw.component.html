<div class="content-holder">
  <div class="left-holder">
    <div class="curr-holder">
      <p class="common-heading">Pick a currency</p>
      <div class="boxes-holder">
        <div
          class="box-item"
          [ngClass]="{ 'active': tokenSelected === 'ioi' }"
          (click)="tokenSelected = 'ioi'"
        >
        <p><img src="/assets/base/images/icons/ioi-big.svg" alt=""> IOI</p>
          <img src="/assets/base/images/funds-box-back.png" alt="" class="back-img">
          <div class="active-border my-cta-btn-back"></div>
        </div>

        <div
          class="box-item"
          [ngClass]="{ 'active': tokenSelected === 'matic' }"
          (click)="tokenSelected = 'matic'"
        >
        <p><img src="/assets/base/images/icons/polygon-big.svg" alt=""> Polygon</p>
          <img src="/assets/base/images/funds-box-back.png" alt="" class="back-img">
          <div class="active-border my-cta-btn-back"></div>
        </div>

      </div>
    </div>

    <div class="curr-holder chain">
      <p class="common-heading">Pick a blockchain</p>
      <div class="boxes-holder">
        <div
          class="box-item"
          [ngClass]="{ 'active': chainSelected === 'polygon' }"
          (click)="chainSelected = 'polygon'"
        >
          <p>Polygon chain</p>
          <img src="/assets/base/images/funds-box-back.png" alt="" class="back-img">
          <div class="active-border my-cta-btn-back"></div>
        </div>

        <div
        style="opacity: 0.5;cursor: default;"
          class="box-item"
          [ngClass]="{ inactive: chainSelected  !== 'ethereum' }"
        >
          <p>Coming soon</p>
          <img src="/assets/base/images/funds-box-back.png" alt="" class="back-img">
          <div class="active-border my-cta-btn-back"></div>
        </div>

      </div>
    </div>

    <div class="amount-holder">
      <p class="common-heading">Withdrawal amount</p>
      <div class="amount-input">
        <div class="inner">
          <input
            type="number"
            min="100"
            [(ngModel)]="amount"
            [ngModelOptions]="{ standalone: true }"
            placeholder="Enter the ammount you want to withdraw"
          />
          <p class="curr-desc" *ngIf="tokenSelected === 'matic'">Polygon/p>
          <p class="curr-desc" *ngIf="tokenSelected === 'ioi'">IOI</p>
        </div>
        <p class="input-note" *ngIf="tokenSelected === 'ioi'">
          Min. 100 IOI
        </p>
        <p class="input-note" *ngIf="tokenSelected === 'matic'">
          Min. 100 Polygon
        </p>
      </div>
      <p class="common-heading">Crypto wallet address</p>
      <div class="crypto-input">
        <input
          type="text"
          placeholder="Enter an address  of crypto wallet you want to send funds into"
          [(ngModel)]="cryptoMtfrckr"
          [ngModelOptions]="{ standalone: true }"
        />
      </div>
    </div>
  </div>
  <div class="right-holder">
    <p class="common-heading">Your withdrawal summary</p>
    <div class="main-panel">
      <div class="inner">
        <div class="withdraw-info">
          <p class="text">You are withdrawing</p>
          <p class="value">
            <img *ngIf="tokenSelected === 'ioi'" src="/assets/base/images/icons/ioi-big.svg" alt="">
            <img *ngIf="tokenSelected === 'matic'" src="/assets/base/images/funds-box-back.png" alt="">
            <span *ngIf="amount > 0">{{ amount }}</span>
            <span *ngIf="amount < 1">0</span>
          </p>
          <p *ngIf="tokenSelected === 'matic'" class="desc">
            market value 1 Polygon = {{ maticusdt }} USD
          </p>
          <p *ngIf="tokenSelected === 'ioi'" class="desc">
            market value 1 IOI = 0.4$
          </p>
        </div>
        <div class="summary-box">
          <div class="info-item crypto-adress">
            <div class="desc">
              <p>Crypto wallet address</p>
            </div>
            <div class="text">
              <input
                [(ngModel)]="cryptoMtfrckr"
                [ngModelOptions]="{ standalone: true }"
                readonly
              />
            </div>
          </div>
          <div class="info-item second">
            <div class="desc">
              <p>Currency you will receive</p>
            </div>
            <div class="text">
              <p *ngIf="tokenSelected === 'matic'" class="value">Polygon</p>
              <p *ngIf="tokenSelected === 'ioi'" class="value">IOI</p>
            </div>
          </div>
        </div>

        <!-- <button class="confirm-btn my-cta-btn-back hoverable" (click)="resolveWithdrawal()" [disabled]="tokenSelected.length < 1 || amount < 100 || cryptoMtfrckr.length === 0"
           *ngIf="myDriver?.is_using_authenticator === false">Confirm</button>
  
        <button class="confirm-btn my-cta-btn-back hoverable" (click)="confirming = true" [disabled]="tokenSelected.length < 1 || amount < 100 || cryptoMtfrckr.length === 0"
           *ngIf="myDriver?.is_using_authenticator === true">Confirm</button> -->

        <button
          [disabled]="tokenSelected==='ioi'"
          [ngClass]="{'disabled': tokenSelected==='ioi'}"
          class="confirm-btn my-cta-btn-back hoverable"
          (click)="withdrawalIoiToken()"
        >
          Withdraw
        </button>
      </div>
    </div>
  </div>
</div>

<div
  class="confirm-code-modal"
  *ngIf="confirmed === false && confirming === true"
>
  <div class="inner-modal-content">
    <div class="modal-close" [routerLink]="['/race/start-race']">
      <img
        src="/assets/base/images/garage/red-close-cross.svg"
        alt="Close modal icon"
      />
    </div>

    <div class="deposit-modal-body">
      <h1 class="main-heading">Enter confirmation code from your email</h1>
      <div class="input-box modal-box desc-box">
        <div class="input-holder my-cta-btn-back">
          <input
            [(ngModel)]="confirmCode"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>
        <p class="disclaim"></p>
      </div>
      <div class="input-box modal-box desc-box" *ngIf="myDriver?.is_using_authenticator === true">
        <h2 class="main-heading">Enter Google Authenticator code</h2>
        <div class="input-holder my-cta-btn-back">
          <input
            [(ngModel)]="authcode"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>
        <p class="disclaim"></p>
      </div>

      <button class="confirm-btn my-cta-btn-back" (click)="confirmWithdrawal()">
        Confirm
      </button>
    </div>
  </div>
</div>
